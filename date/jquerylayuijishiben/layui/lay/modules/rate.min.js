layui.define("jquery",function(m){var q=layui.jquery,j={config:{},index:layui.rate?layui.rate.index+10000:0,set:function(c){var a=this;return a.config=q.extend({},a.config,c),a},on:function(f,c){return layui.onevent.call(this,g,f,c)}},h=function(){var f=this,c=f.config;return{setvalue:function(e){f.setvalue.call(f,e)},config:c}},g="rate",y="layui-rate",d="layui-icon-rate",z="layui-icon-rate-solid",x="layui-icon-rate-half",b="layui-icon-rate-solid layui-icon-rate-half",p="layui-icon-rate-solid layui-icon-rate",k="layui-icon-rate layui-icon-rate-half",w=function(c){var a=this;a.index=++j.index,a.config=q.extend({},a.config,j.config,c),a.render()};w.prototype.config={length:5,text:!1,readonly:!1,half:!1,value:0,theme:""},w.prototype.render=function(){var A=this,s=A.config,a=s.theme?'style="color: '+s.theme+';"':"";s.elem=q(s.elem),parseInt(s.value)!==s.value&&(s.half||(s.value=Math.ceil(s.value)-s.value<0.5?Math.ceil(s.value):Math.floor(s.value)));for(var C='<ul class="layui-rate" '+(s.readonly?"readonly":"")+">",o=1;o<=s.length;o++){var t='<li class="layui-inline"><i class="layui-icon '+(o>Math.floor(s.value)?d:z)+'" '+a+"></i></li>";s.half&&parseInt(s.value)!==s.value&&o==Math.ceil(s.value)?C=C+'<li><i class="layui-icon layui-icon-rate-half" '+a+"></i></li>":C+=t}C+="</ul>"+(s.text?'<span class="layui-inline">'+s.value+"星":"")+"</span>";var B=s.elem,v=B.next("."+y);v[0]&&v.remove(),A.elemTemp=q(C),s.span=A.elemTemp.next("span"),s.setText&&s.setText(s.value),B.html(A.elemTemp),B.addClass("layui-inline"),s.readonly||A.action()},w.prototype.setvalue=function(l){var c=this,f=c.config;f.value=l,c.render()},w.prototype.action=function(){var f=this,c=f.config,a=f.elemTemp,o=a.find("i").width();a.children("li").each(function(n){var l=n+1,i=q(this);i.on("click",function(r){if(c.value=l,c.half){var s=r.pageX-q(this).offset().left;s<=o/2&&(c.value=c.value-0.5)}c.text&&a.next("span").text(c.value+"星"),c.choose&&c.choose(c.value),c.setText&&c.setText(c.value)}),i.on("mousemove",function(r){if(a.find("i").each(function(){q(this).addClass(d).removeClass(b)}),a.find("i:lt("+l+")").each(function(){q(this).addClass(z).removeClass(k)}),c.half){var s=r.pageX-q(this).offset().left;s<=o/2&&i.children("i").addClass(x).removeClass(z)}}),i.on("mouseleave",function(){a.find("i").each(function(){q(this).addClass(d).removeClass(b)}),a.find("i:lt("+Math.floor(c.value)+")").each(function(){q(this).addClass(z).removeClass(k)}),c.half&&parseInt(c.value)!==c.value&&a.children("li:eq("+Math.floor(c.value)+")").children("i").addClass(x).removeClass(p)})})},w.prototype.events=function(){var a=this;a.config},j.render=function(f){var c=new w(f);return h.call(c)},m(g,j)});