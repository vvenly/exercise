<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../bootstrap/bootstrap.min.css">
    <style>
        #d1{width: 70%;margin: 100px auto;border: 1px solid #ddd;text-align: center;padding: 10px;}

        label.multiSel{
            position: relative;
            display: inline-block;
            width: 19.9%;
            border:1px solid transparent;
            border-radius: 5px;
            padding: 1%;
            font-size: 15px;
            font-weight: normal;
        }

        label.multiSel:hover{
            border-color: #0a8ed3;
        }
        .inputStatus{
            position: absolute;
            top:0;
            left: 0;
            width: 22px;
            height: 15px;
            opacity: 0;
        }

        .inputStyle2{
            position: relative;
            top: 3px;
            left: 0;
            display: inline-block;
            padding: 10px;
            background: url("img/allBgs.png") no-repeat -3px -2px;
        }

        .inputStatus:checked+.inputStyle2{
            background: url("img/allBgs.png") no-repeat -28px -2px;
        }

    </style>
</head>
<body>



<div id="d1" data-toggle='modal' data-target='#myModal-user'>
    设置防护员
</div>


<div class="modal fade" id="myModal-user" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog" style="width: 800px;margin: 35px auto;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 class="modal-title">设置防护员</h3>
            </div>
            <div class="modal-body" id="muSelConent"></div>
            <div class="modal-footer">
                <button type="button" class="btn btn-warning" data-dismiss="modal">关闭</button>
                <button id="com_update" type="button" class="btn btn-primary" onclick="selData.selVal()">确定</button>
            </div>
        </div>
    </div>
</div>

<script src="jquery-1.12.4.min.js"></script>
<script src="../bootstrap/bootstrap.js"></script>

<script>

    var stationData=[
        {"id": 4, "name": "福田"},
        {"id": 6, "name": "张三"},
        {"id": 8, "name": "李四"},
        {"id": 11, "name": "王五"},
        {"id": 12, "name": "胡海"},
        {"id": 15, "name": "南山"},
        {"id": 16, "name": "北岳"},
    ];

    function MultiSel(data,name) {
        this.data=data;

        this.name1=name;

        var that=this;

        this.dataShow=function (divId) {

            var data=this.data,html="";
            $.each(data,function (i) {
                html+="<label style='position: relative;' class='multiSel'>" +
                    "<input type='checkbox' class='inputStatus' name='"+that.name1+"' value='"+data[i].id+"'><span class='inputStyle2'></span> "+data[i].name+"" +
                    "</label>"
            });

            $("#"+divId).html(html);

        };

        this.selVal=function () {
            var arr=[];

            $("[name="+this.name1+"]:checked").each(function () {
                arr.push($(this).val())
            });

            return arr;
        };

    }

    var selData=new MultiSel(stationData,"name");

    selData.dataShow('muSelConent');



</script>


</body>
</html>